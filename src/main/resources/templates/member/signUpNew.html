<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/mobile.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <title>íœ´ëŒ€í°ë²ˆí˜¸ ì¸ì¦</title>
</head>
<body>
    <h1>ğŸ“± íœ´ëŒ€í°ë²ˆí˜¸ ì¸ì¦ - ê°€ì…</h1>
    <p class="loginGuide">
        íœ´ëŒ€í°ë²ˆí˜¸ë¥¼ ì¸ì¦í•´ ì£¼ì„¸ìš”.<br>
        ì´ë¯¸ ë“±ë¡ëœ íœ´ëŒ€í°ë²ˆí˜¸ëŠ” í•€ë²ˆí˜¸ ì°¾ê¸°ë¥¼ ì´ìš©í•´ì£¼ì„¸ìš”.
    </p>

    <form action="/member/signUpNew" method="post" onsubmit="return valiCheck()">
        <input type="tel" placeholder="íœ´ëŒ€í°ë²ˆí˜¸ ex) 010-1234-5678" class="phone" name="phone" pattern="[0-9]{3}-[0-9]{4}-[0-9]{4}" required>
        <button class="submitButton submitButtonLabel" id="phoneSubmitButton">ì¸ì¦ë²ˆí˜¸ ë°›ê¸°</button>
    </form>

    <a href="/member/signUpOld" class="aButton homeButton">ğŸ…¿ í•€ë²ˆí˜¸ ì°¾ê¸°</a>
    <a href="/member/login" class="aButton homeButton">ğŸ  ë¡œê·¸ì¸ í™”ë©´ ëŒì•„ê°€ê¸°</a>

    <script>
        function valiCheck() {

            //1.ì´ë¯¸ ê°€ì…ë˜ì–´ ìˆëŠ” íšŒì›ì´ë¼ë©´ -> alert ë„ìš°ê¸°
            //2. ê°€ì…ë˜ì–´ ìˆì§€ ì•Šì€ íšŒì›ì´ë¼ë©´ -> ì¸ì¦ë²ˆí˜¸ ë°›ê¸°
            $.ajax({
                type: "POST",
                url: "/member/duplicateCheck",
                data: {
                    phone: $("input[name=phone]").val()
                },
                success: function (data) {
                    console.log(`data : ${data}`)
                    if (data == null) {
                        console.log("true")
                        return true;
                    } else {
                        alert("ì´ë¯¸ ê°€ì…ëœ í°ë²ˆí˜¸ ì…ë‹ˆë‹¤. í°ë²ˆí˜¸ : " + data.phoneNumber)
                        //ë¹„ë™ê¸°ì‹ì´ë¼ ì—¬ê¸°ì„œ ìµœì¢… íŒì •ì„ ë‚´ì•¼í•¨ (ì—¬ê¸°ê°€ ë§ˆì§€ë§‰ êµ¬ê°„)
                        console.log("false")
                        return false;
                    }
                }, error: function (e) {
                    console.log(e);
                }
            })
        }
    </script>
</body>
</html>

